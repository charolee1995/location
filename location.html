<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>GPS + Webhook 測試</title>
</head>
<body>
  <h3>GPS + Tines 測試頁面</h3>
  <p id="status">等待定位中...</p>

  <script>
    const status = document.getElementById('status');

    if (!navigator.geolocation) {
      status.innerText = "⚠️ 你的瀏覽器不支援定位";
    } else {
      navigator.geolocation.getCurrentPosition(
        pos => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;

          // 顯示在頁面
          status.innerText = `✅ 定位成功\n緯度: ${lat}\n經度: ${lon}`;

          // 傳送到 Tines Webhook
          fetch("https://snowy-grass-5288.tines.com/webhook/hello-world/7ca9f7ff1ee6f3715eeb80a706372092", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              latitude: lat,
              longitude: lon,
              timestamp: new Date().toISOString()
            })
          })
          .then(res => {
            if (res.ok) {
              console.log("📡 已成功送到 Tines！");
            } else {
              console.error("❌ 發送失敗：", res.status, res.statusText);
            }
          })
          .catch(err => console.error("❌ 發送錯誤：", err));
        },
        err => {
          status.innerText = `❌ 定位失敗：${err.message}`;
        },
        { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }
      );
    }
  </script>
</body>
</html>




